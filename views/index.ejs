<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pythagora Lab</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
  <div class="container">
    <h1>Welcome to Pythagora Lab</h1>
    <form action="/upload" method="post" enctype="multipart/form-data">
      <div class="form-group">
        <label for="databaseFile">Upload Database File</label>
        <input type="file" class="form-control-file" id="databaseFile" name="databaseFile">
      </div>
      <button type="submit" class="btn btn-primary">Upload</button>
    </form>
    <hr>
    <h2>Previously Uploaded Databases</h2>
    <table class="table">
      <thead>
        <tr>
          <th>Database Name</th>
          <th>Rename</th>
          <th>Select</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <% databases.forEach(function(database) { %>
          <tr>
            <td><%= database %></td>
            <td>
              <form action="/rename-database" method="post" onsubmit="return confirm('Are you sure you want to rename this database?');" class="form-inline">
                <input type="hidden" name="oldName" value="<%= database %>">
                <input type="text" name="newName" placeholder="New name" required class="form-control mr-2">
                <button type="submit" class="btn btn-info">Rename</button>
              </form>
            </td>
            <td>
              <form action="/select-database" method="post">
                <button type="submit" class="btn btn-secondary" name="selectedDatabase" value="<%= database %>">Select</button>
              </form>
            </td>
            <td>
              <form action="/delete-database" method="post" onsubmit="return confirm('Are you sure you want to delete this database?');">
                <input type="hidden" name="databaseName" value="<%= database %>">
                <button type="submit" class="btn btn-danger">Delete</button>
              </form>
            </td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>